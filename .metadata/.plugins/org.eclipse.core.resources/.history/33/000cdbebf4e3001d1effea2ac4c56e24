<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd">
	
	<!-- Root Context: defines shared resources visible to all other web components -->
	
	<!-- 
		root-context.xml
		서버 구동과 동시에 web.xml파일을 거쳐서 곧바로 로딩되는 문서
		- 보통 서버구동과 동시에 세팅해야하는 내용들 작성함(db연결, 트랜잭션 처리)
		dataSource : java에서 Connection Pool을 지원하기 위한 인터페이스
		destory-method="close":주어진 세션을 자동으로 반환하는 설정
	 -->
	 
	 <!-- DB연결 설정(3단계) -->
	 <!-- 1단계 DB연결을 위한 도구 설정 -->
	 <bean class="org.apache.commons.dbcp.BasicDataSource" id="basicDataSource" destroy-method="close" >
	 	
	 	<property name="driverClassName" value="oracle.jdbc.driver.OracleDriver"/>
	 	<property name="url" value="jdbc:oracle:thin:@localhost:1521:orcl"/>
	 	<property name="username" value="SPRING"/>
	 	<property name="password" value="SPRING"/>
	 	
	 	<!-- SQL이 수행된후 자동으로 COMMIT 되는것을 지정 -->
	 	<property name="defaultAutoCommit" value="false"/>
	 	
	 	<!-- 커넥션풀 설정 -->
	 	<property name="initialSize" value="10" /> <!-- 초기 커넥션수, 기본 0 -->
	 	<property name="maxActive" value="50"/> <!-- 최대 커넥션 수, 기본 8 -->
	 	<property name="minIdle" value="10"/> <!-- 유효 상태로 존재할 수 있는 커넥션 최소수, 기본 0 -->
	 	<property name="maxIdle" value="20"/> <!-- 유효 상태로 존재할 수 있는 커넥션 최대수, 기본 8 -->
	 	<property name="maxWait" value="-1"/> <!-- 예외 발생전 커넥션이 반환될때까지 대기하는시간, 기본값 = -1(무기한) -->
	 	
	 </bean>
	 
	 <!-- 
	 	BasicDataSource dataSource = new BasicDataSource();
	 	datasource.setDriverClassName("oracle.jdbc.driver.OracleDriver");
	  -->
</beans>
